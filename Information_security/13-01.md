# Домашнее задание к занятию «Уязвимости и атаки на информационные системы» - Иванов Дмитрий (fops-13)

------

### Задание 1

Скачайте и установите виртуальную машину Metasploitable: https://sourceforge.net/projects/metasploitable/.

Это типовая ОС для экспериментов в области информационной безопасности, с которой следует начать при анализе уязвимостей.
Просканируйте эту виртуальную машину, используя **nmap**.
Попробуйте найти уязвимости, которым подвержена эта виртуальная машина.
Сами уязвимости можно поискать на сайте https://www.exploit-db.com/.
Для этого нужно в поиске ввести название сетевой службы, обнаруженной на атакуемой машине, и выбрать подходящие по версии уязвимости.

Ответьте на следующие вопросы:

- Какие сетевые службы в ней разрешены?
- Какие уязвимости были вами обнаружены? (список со ссылками: достаточно трёх уязвимостей)
  
### Решение задания 1
1. С помощью VirtualBox подняты 2 машины Metasploitable и Ubuntu 22.04 (сеть - сетевой мост)
2. Выполняем обнаружение доступных устройств в сети:
```
nmap -sn 192.168.0.162
``` 
3. Сканируем VM metasploitable и получаем список открытых портов:
```
nmap -sV 192.168.0.162
``` 
![13-01_1](https://github.com/dmlorren/netology-homework/blob/main/Information_security/img/13-01_1.png)
![13-01_2](https://github.com/dmlorren/netology-homework/blob/main/Information_security/img/13-01_2.png)
4. Забиваю наименования выведенных в списке пакетов на сайте exploit, достоверно подвердились следующие эксплойты:

21/tcp open ftp vsftpd 2.3.4
https://www.exploit-db.com/exploits/17491

5432/tcp open postgresql PostgreSQL DB 8.3.0 - 8.3.7
https://www.exploit-db.com/exploits/32849

53/tcp open domain ISC BIND 9.4.2
https://www.exploit-db.com/exploits/6122


### Задание 2

Проведите сканирование Metasploitable в режимах SYN, FIN, Xmas, UDP.

Запишите сеансы сканирования в Wireshark.

Ответьте на следующие вопросы:

- Чем отличаются эти режимы сканирования с точки зрения сетевого трафика?
- Как отвечает сервер?


### Решение задания 2

``` 
nmap -sS 192.168.0.162
``` 
-sS (TCP SYN сканирование)

SYN метод, основанный на принципах создания TCP-соединения и состоящий в последовательной передаче на объект сканирования TCP SYN-запросов на создание соединения на различные порты. Если порт открыт, то на данный сканирующий запрос будет получен ответ TCP [SYN, АСК]; если же порт закрыт - ответом будет TCP [RST].
![13-01_3](https://github.com/dmlorren/netology-homework/blob/main/Information_security/img/13-01_3.png)


``` 
nmap -sF 192.168.0.162
``` 
-sF (FIN сканирование)
FIN в основу данного метода легли некоторые тонкости реализации протокола TCP в различных сетевых ОС: на передаваемый TCP FIN-запрос закрытые порты отвечают пакетом с флагом RST, а открытые порты данное сообщение игнорируют. Однако сетевые ОС фирмы Microsoft таким методом просканировать не удастся, так как в их реализации протокола TCP передача пакета TCP RST в ответ на подобный запрос не предусмотрена.

![13-01_4](https://github.com/dmlorren/netology-homework/blob/main/Information_security/img/13-01_4.png)

``` 
nmap -sX 192.168.0.162
``` 
-sX (Xmas сканирование)
Xmas если в ответ приходит RST пакет, то порт считается закрытым, отсутствие ответа означает, что порт открыт|фильтруется. Порт помечается как фильтруется, если в ответ приходит ICMP ошибка о недостижимости (тип 3, код 1, 2, 3, 9, 10 или 13).
![13-01_5](https://github.com/dmlorren/netology-homework/blob/main/Information_security/img/13-01_5.png)

``` 
nmap -sU 192.168.0.162
``` 
-sU (Различные типы UDP сканирования)

UDP сканирование запускается опцией -sU. Оно может быть скомбинировано с каким-либо типом TCP сканирования, например SYN сканирование (-sS), чтобы использовать оба протокола за один проход.
UDP сканирование работает путем посылки пустого (без данных) UDP заголовка на каждый целевой порт. Если в ответ приходит ICMP ошибка о недостижимости порта (тип 3, код 3), значит порт закрыт. Другие ICMP ошибки недостижимости (тип 3, коды 1, 2, 9, 10 или 13) указывают на то, что порт фильтруется. Иногда, служба будет отвечать UDP пакетом, указывая на то, что порт открыт. Если после нескольких попыток не было получено никакого ответа, то порт классифицируется как открыт|фильтруется. Это означает, что порт может быть открыт, или, возможно, пакетный фильтр блокирует его. Функция определения версии (-sV) может быть полезна для дифференциации действительно открытых портов и фильтруемых.
![13-01_6](https://github.com/dmlorren/netology-homework/blob/main/Information_security/img/13-01_6.png)