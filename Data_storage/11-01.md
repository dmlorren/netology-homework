# Домашнее задание к занятию «Базы данных, их типы» - Иванов Дмитрий (fops-13)


### Задание 1. СУБД

### Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать 
правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для
каждой предметной области. 

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему? 
 
1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков.
СУБД должна гарантировать целостность и чёткую структуру данных.
1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы? 
```
Ответ:
1.1
Целостность и четкую структуру данных нам обеспечивают реляционные СУБД, такие как Oracle, MySQL, PostgreSQL или Microsoft SQL Server. Все они обладают структурированной схемой данных.
Перечисленные нами СУБД позволяют создавать таблицы, связывать их между собой по отношениям и использовать SQL-запросы для извлечения и анализа данных. Реляционные СУБД также обеспечивают возможность создания индексов и ограничений целостности (это некоторое утверждение, которое может быть истинным или ложным в зависимости от состояния базы данных и их задача не допустить попадания в базу ошибочных данных).

Пожалуй, можно присмотреться и к многомерным СУБД: Microsoft Analysis Services, Oracle Essbase.
Суть - специализация на аналитической обработке больших объемов данных. Данные СУБД нам предоставляют функциональность для создания многомерных кубов данных, которые позволяют анализировать данные из разных измерений, таких как бюджетные показатели, проекты и риски и тд. Многомерные СУБД предоставляют мощные возможности агрегирования данных и быстрого выполнения сложных аналитических запросов.

+ можно рассмотреть и графовые СУБД т.к с их помощью можно моделировать связи (между проектами, рисками, прогнозами, финансовыми данными и тд. - это всё сущности) и выполнять аналитические запросы на основе графов.

1.1*
Стоит рассмотреть те виды СУБД (NoSQL) где используется ключ-значение, например Redis или Memcached.
Они обе используют кэширование и хранят данные в оперативной памяти, что обеспечивает низкую задержку и высокую пропускную способность доступа к данным. В отличие от традиционных баз данных, хранилища данных в памяти не требуют перемещения на диск, что сокращает задержку ядра до микросекунд. 
Благодаря этому хранилища данных в памяти могут многократно увеличивать количество выполняемых операций и сокращать время отклика. В результате обеспечивается чрезвычайно высокая производительность.
```


1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к 
маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? 
СУБД должны быть гибкими и быстрыми.
1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?
```
Ответ:
1.2
Для CRM систем важна структурированность данных и возможность выполнения сложных запросов, соответственно нам подойдут 
реляционные СУБД, такие как MySQL, PostgreSQL, Microsoft SQL. Но в тоже время нам важно быстро добавлять и изменять контент, а этим нас обеспечивают NoSQL СУБД, например MongoDB (отличительная особенность гибкая схема данных) или Couchbase (функциональность кэширования и хранилища данных в памяти). Данные СУБД предлагают гибкую схему данных и горизонтальное масштабирование, что позволяет легко добавлять новые поля или изменять структуру данных без необходимости обновления всей базы данных.

1.2.*
Сравнивая характеристики NoSQL СУБД, склоняюсь к ответу в пользу MongoDB. Если кратко опять же гибкая схема данных, хранение этих саммых данных в бинарном формате (Binary JSON), затем высокая скорость чтения-записи данных благодаря использованию индексов для быстрого поиска и сортировки данных, далее это поддержка для горизонтального масштабирования путем распределения данных на несколько серверов, а так же поддержка репликации и отказоустойчивости: MongoDB позволяет создавать реплики данных для обеспечения отказоустойчивости. 

+ бонусом поддержка мощного языка запросов Query Language (QL)
```


1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу 
и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.
1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это 
реализовать?
```
Ответ:
Ответ будет общим для 1.3 и 1.3.*
Считаю, что удачным вариантом здесь будет опять же использование MongoDB как документоориентированную СУБД. Плюсы использования перечислены в 1.2, здесь же вновь подчеркну гибкую схему данных, так как корпоративная структура формата хранения данных может меняться со временем и масштабируемость с репликацией, что повышает отказоустойчивость, а так же у нас будут дублированные копии данных на нескольких серверах. 
```

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов 
по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать
со связями.
1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД 
логистов?
1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

```
Ответ
Постараюсь на поставленные вопросы ответить одним общим ответом.
Действительно все вышеперечисленные задачи мы можем покрыть реляционной СУБД, тем же PostgresSQL.
У отделов логистики и закупок будет общая СУБД, что позволит более прозрачно контролировать производственные процессы и обмениваться данными между отделами. Но мы можем встрять в то, что один из отделов может иметь свои специфические требования и организацию процессов, которые могут не соответствовать требованиям первого отдела.
```

---

### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы 
транзакция завершилась успешно. Ориентируйтесь на шесть действий.
2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?
```
Ответ 2.1
1. Старт транзакции. Пользователь инициирует пополнение баланса своего мобильного счёта. 
2. Банк устанавливает блокировку на счете пользователя, чтобы предотвратить какое-либо изменения баланса.
3. Далее со стороны банка проверяется доступность средств на счете пользователя. На этом шаге транзакция проходит, либо отклоняется.
4. Если деньги на счёте в достаточном количестве, то они списываются банком.
5. Зачисление денежных средств на счёт пользователя.
6. Завершение транзакции. Если всё прошло прошло успешно, транзакция считается завершенной. Блокировка на счёте пользователя снимается.

Ответ 2.1.* 
В данном случае, я оставлю пункты 2-6 без изменений, изменится только пункт 1, а именно:
1. Старт транзакции. Автоплатеж активируется в заранее заданное время или при выполнении определенных условий (закончились деньги на балансе).
```

---

### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL. 
3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

```
Ответ 3.1.
1. Структурированность данных. 
СУБД SQL системы работают с таблицами и реляционными моделями данных, что позволяет нам хранить и обрабатывать данные с четко определенным регламентом, правилами, схемой. Всё обеспечивает строгую структуру данных и позволяет выполнять запросы, связывать таблицы и анализировать данные.

2. ACID.
 СУБД SQL системы поддерживают ACID-транзакции (Atomicity, Consistency, Isolation, Durability), а это обеспечение надежности и целостности данных. ACID-свойства гарантируют, что транзакции будут успешно завершены или откатываются в случае ошибок, обеспечивая надёжность данных и защиту от потери или повреждения информации.

3. Работа со сложными запросами.
СУБД SQL системы предоставляют мощные возможности для выполнения сложных запросов и аналитических операций. Это поддержка расширенных функций агрегаций, группировки, объединения таблиц, выполнения сложных вычислений.

4. Встроенная поддержка связей между таблицами.
СУБД SQL системы имеют встроенную поддержку связей между таблицами, это позволяет легко выполнять операции объединения и получать связанные данные. Полезно в случаях, когда данные имеют сложную структуру и требуют связи между различными сущностями.

5. Тулзы/инструментарий
СУБД SQL системы имеют богатый набор инструментов и библиотек для работы с данными.

Ответ 3.1.*
В моём понимании NewSQL это те СУБД, где совмещаются две сути (методики работы) реляционность (SQL СУБД) и распределённость (NoSQL). 

От NoSQL есть гибкость и масштабируемость, от SQL обратная совместимость (т.е поддержка стандарта SQL) и поддержка структурированных данных (ключевой момент) которых нет в NoSQL. К характеристикам NewSQL отнесём транзакционную целостность, высокую производительность.
```
---

### Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу 
выделено 1000 машин. 
На основе какого критерия будете выбирать тип СУБД и какая модель *распределённых вычислений* 
здесь справится лучше всего и почему?
```
Ответ
Здесь суть в том, что у нас каждый компьютер должен выполнять свою часть работы параллельно с другими компьютерами. 
Таким образом и прозводительность высокая и масштабируемость.
Т.е предполгаю что это модель параллельной обработки/параллелизма.
Подойдёт Apache Cassandra (NoSQL), СУБД для обработки больших объемов данных и обеспечения высокой доступности и масштабируемости.
```

